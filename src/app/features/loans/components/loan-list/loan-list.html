<div class="loan-list">
  <div class="header" dir="rtl">

    <h3>لیست وام‌های شما</h3>
        <a routerLink="/loan/add" class="btn-add-loan">درخواست وام جدید</a>
  </div>

  <div *ngIf="loading" class="loading">
    در حال بارگذاری...
  </div>

  <div *ngIf="!loading" class="loan-cards">
    @for (loan of this.loans; track $index) {
      <div class="loan-card" #loanRow>
        <div class="loan-field">
          <span class="label">مبلغ:</span>
          <span class="value">{{ loan.requestedAmount | number }} تومان</span>
        </div>
        <div class="loan-field">
          <span class="label">وضعیت:</span>
          <span class="value" [class]="loan.status.toLowerCase()">
            {{ loan.status }}
          </span>
        </div>
        <div class="loan-field">
          <span class="label">تاریخ:</span>
          <span class="value">{{ loan.submitDate | date: 'yyyy/MM/dd' }}</span>
        </div>
        <div class="loan-actions">
          <a [routerLink]="['/loans', loan.id]" class="btn-view">مشاهده</a>
        </div>
      </div>
    }
  </div>

  <p *ngIf="!loading && loans.length === 0" class="no-loans">
    هیچ وامی یافت نشد.
  </p>
</div>
